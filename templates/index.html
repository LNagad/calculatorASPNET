<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../static/css/main.css"/>
  <title>Calculadora Itla</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
  <script src="{% static 'js/app.js' %}"></script>

</head>

<body>
  <main>
    <section class="top-container">
      <header>
        <div class="logo">
          <h2>mi logo</h2>
        </div>
        <div class="login">
          <h2>login</h2>
        </div>
      </header>
    </section>

    <section class="main-container">
      <section class="app">
        <div class="modes">
          <li class="basic active"><a href="#">Basic</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
          <li class="basic"><a href="#">...</a></li>
        </div>
        <div class="keyboard" id="keyboard">
          <li><a class="button" onclick="prueba()" href="#">1</a></li>
          <li><a class="button" href="#">2</a></li>
          <li><a class="button" href="#">3</a></li>
          <li><a class="button" href="#">4</a></li>
          <li><a class="button" href="#">5</a></li>
          <li><a class="button" href="#">6</a></li>
          <li><a class="button" href="#">7</a></li>
          <li><a class="button" href="#">8</a></li>
          <li><a class="button" href="#">9</a></li>
          <li><a class="button" href="#">0</a></li>
          <li><a class="button" href="#">+</a></li>
          <li><a class="button" href="#">-</a></li>
          <li><a class="button" href="#">/</a></li>
          <li><a class="button" href="#">*</a></li>
          <li><a class="button" href="#">x</a></li>
          <li><a class="button" href="#">y</a></li>
          <li><a class="button" href="#">ln</a></li>
          <li><a class="button" href="#">√☐</a></li>
          <li><a class="button" href="#">x^2</a></li>
          <li><a class="button" href="#">e</a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#"></a></li>
          <li><a class="button" href="#">←</a></li>
          <li><a class="button" href="#">C</a></li>
        </div>
        <div class="input">
          <div class="components">
            <!-- function that make the calculus -->
            <input type="text" placeholder="Ingresa un problema" id="FunctionForm" disabled />
            <!--------- the button is disabled to make it easier ----->

            <button onclick="calculateIntegral(document.getElementById('FunctionForm').value)">
              Ir
            </button>
            <div id="display"></div>
          </div>
        </div>
      </section>
    </section>
  </main>
  <!----------------- front end scripts -->
  <script type="text/javascript">
    let inputDisplay = document.getElementById('FunctionForm');

    let buttons = Array.from(document.getElementsByClassName('button'));

    function check(e) {
      if (e == '√☐') {
        return '√'

        // } else if (  (e+'').includes('x^2') ) {
        //   let value = inputDisplay.value;
        //   let value2 = inputDisplay.value;

        //   value = value.substr(-1);
        //   value = parseInt(value);

        //   // console.log(value2);
        //   return value * value;

      } else {
        return e;
      }
    }

    buttons.map(button => {

      button.addEventListener('click', e => {

        switch (e.target.innerText) {
          case 'x^2':

            value = inputDisplay.value;
            valueX = value;

            // first, delete the last input to replace it for its elevation

            value = value.substring(0, value.length - 1);
            inputDisplay.value = value;

            // then do the process of elevation and so on
            valueX = valueX.substr(-1);
            valueX = parseInt(valueX);

            inputDisplay.value += (valueX * valueX);
            break;

          case 'C':
            inputDisplay.value = '';
            break;
          case '←':
            value = inputDisplay.value;
            value = value.substring(0, value.length - 1);

            inputDisplay.value = value;
            break;
          default:
            inputDisplay.value += check(e.target.innerText);
        }
      })

    });
  </script>

  <!-- <script src="index.js"></script> -->
</body>

</html>